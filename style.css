/* Generalne style */
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background-color: #1a1a2e; /* Ciemny granat */
    color: #e0e0e0; /* Jasny szary tekst */
    display: flex; /* Użyj flexbox dla głównego układu */
    min-height: 100vh; /* Pełna wysokość widoku */
    overflow-x: hidden; /* Ukryj poziomy scrollbar */
    font-size: 16px;
    line-height: 1.6;
}

/* Scrollbar styling for body (opcjonalnie, dla lepszego wyglądu) */
body::-webkit-scrollbar {
    width: 8px;
}

body::-webkit-scrollbar-track {
    background: #2b2b4d; /* Ciemniejsze tło tracka */
}

body::-webkit-scrollbar-thumb {
    background-color: #a78bff; /* Fioletowy thumb */
    border-radius: 10px;
    border: 2px solid #2b2b4d;
}

/* Kontener całego pulpitu - to jest nasz główny kontener flexbox */
.dashboard-container {
    display: flex;
    width: 100%;
}

/* Główna Zawartość - wypełnia dostępną przestrzeń */
.main-content {
    flex-grow: 1; /* Pozwala na rozciągnięcie na całą dostępną szerokość */
    padding: 20px 40px; /* Nadal ma padding dla innych elementów */
    margin-left: 0; /* WAŻNA ZMIANA: Zaczyna się od lewej krawędzi, bez sidebara */
    display: flex;
    flex-direction: column; /* Elementy w kolumnie */
    gap: 30px; /* Odstęp między sekcjami, jeśli main-content ma wiele dzieci */
}

/* Sekcja Pulpitu - TO JEST GŁÓWNY KONTENER GRIDOWY */
.dashboard-section {
    display: grid;
    /* Definicja obszarów siatki. Nazwy muszą być unikalne i odpowiadać grid-area */
    grid-template-areas:
        "portfolio-area main-chart-area milestones-area"
        "portfolio-area bottom-stats-area milestones-area";
    grid-template-columns: 1.2fr 2fr 1.2fr; /* Trzy kolumny o określonych proporcjach */
    gap: 30px; /* Odstęp między elementami siatki */
    flex-grow: 1; /* Ważne, aby sekcja zajmowała dostępną wysokość */
}

/* Karty ogólne */
.card {
    background-color: #2b2b4d; /* Ciemny granat */
    border-radius: 18px; /* Bardziej zaokrąglone rogi */
    padding: 25px;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3); /* Większy i rozmyty cień */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
    transform: translateY(-5px); /* Lekkie uniesienie karty */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
}

/* Twoje Portfolio */
.portfolio-card {
    grid-area: portfolio-area; /* Przypisanie do obszaru gridowego */
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.portfolio-card h3 {
    margin-top: 0;
    color: #e0e0e0;
    font-size: 24px;
    border-bottom: 1px solid #3f3f6d; /* Linia pod nagłówkiem */
    padding-bottom: 15px;
    margin-bottom: 15px;
}

.portfolio-card .portfolio-value .main-value {
    font-size: 42px; /* Większa czcionka */
    font-weight: bold;
    color: #a78bff; /* Fioletowy */
    text-shadow: 0 0 8px rgba(167, 139, 255, 0.5); /* Lekki cień na tekście */
}

/* Dostosowanie stylu dla 0 wartości w portfolio */
.portfolio-card .portfolio-value .main-value,
.portfolio-card .total-balance .value {
    font-weight: bold;
    color: #a78bff;
}
.portfolio-card .portfolio-value .main-value {
    font-size: 36px;
    text-shadow: none;
}
.portfolio-card .portfolio-value .change {
    font-size: 18px;
    color: #28a745; /* Zielony dla pozytywnej zmiany */
    margin-left: 10px;
    font-weight: 600;
}

.portfolio-card .total-balance {
    border-top: 1px solid #3f3f6d;
    padding-top: 20px;
    margin-top: 15px;
}

.portfolio-card .total-balance .label {
    font-size: 15px;
    color: #ccc;
    display: block;
    margin-bottom: 8px;
}

.portfolio-card .total-balance .value {
    font-size: 32px;
    font-weight: bold;
    color: #e0e0e0;
}

.portfolio-chart-controls {
    display: flex;
    gap: 12px;
    margin-top: 25px;
}

.portfolio-chart-controls .control-button {
    background-color: #3f3f6d;
    color: #e0e0e0;
    border: none;
    padding: 10px 18px;
    border-radius: 12px;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
    font-size: 15px;
    font-weight: 600;
}

.portfolio-chart-controls .control-button.active,
.portfolio-chart-controls .control-button:hover {
    background-color: #a78bff;
    color: #fff;
    transform: translateY(-2px);
}

.portfolio-action-buttons {
    display: flex;
    gap: 18px;
    margin-top: 25px;
}

.portfolio-action-buttons .action-button {
    flex: 1;
    padding: 15px 25px;
    border-radius: 12px;
    border: none;
    font-size: 17px;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.portfolio-action-buttons .buy-button {
    background-color: #28a745; /* Zielony */
    color: white;
    box-shadow: 0 4px 10px rgba(40, 167, 69, 0.4);
}

.portfolio-action-buttons .buy-button:hover {
    background-color: #218838;
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(40, 167, 69, 0.6);
}

.portfolio-action-buttons .sell-button { /* Teraz dla przycisku "Clear" */
    background-color: #dc3545; /* Czerwony */
    color: white;
    box-shadow: 0 4px 10px rgba(220, 53, 69, 0.4);
}

.portfolio-action-buttons .sell-button:hover {
    background-color: #c82333;
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(220, 53, 69, 0.6);
}

/* Główny Wykres */
.main-chart {
    grid-area: main-chart-area; /* Przypisanie do obszaru gridowego */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* NOWOŚĆ: Kontener dla scrollbara */
/* Ten kontener będzie miał overflow, ale canvas wewnątrz będzie responsywny */
.chart-scroll-container {
    width: 100%; /* Zajmuje całą dostępną szerokość w main-chart */
    overflow-x: auto; /* Włącz poziomy scrollbar, gdy zawartość jest większa */
    padding-bottom: 10px; /* Dodatkowy padding, aby scrollbar nie zakrywał wykresu */
    margin-bottom: 10px; /* Odstęp od elementów poniżej */
    -webkit-overflow-scrolling: touch; /* Lepsze scrollowanie na iOS */
    position: relative; /* Ważne dla pozycjonowania canvasa, jeśli potrzebne */
    height: 300px; /* Ustaw sztywną wysokość, aby canvas mógł ją wypełnić */
}

/* Styl scrollbara dla .chart-scroll-container */
.chart-scroll-container::-webkit-scrollbar {
    height: 8px; /* Wysokość scrollbara poziomego */
}

.chart-scroll-container::-webkit-scrollbar-track {
    background: #3f3f6d; /* Kolor tła tracka (ciemniejszy od thumb) */
    border-radius: 10px;
}

.chart-scroll-container::-webkit-scrollbar-thumb {
    background-color: #a78bff; /* Fioletowy thumb */
    border-radius: 10px;
    border: 2px solid #3f3f6d; /* Ramka dopasowana do tracka */
}

/* Styl dla canvasa - BARDZO WAŻNA ZMIANA */
/* Pozwól Chart.js być responsywnym, ale daj mu dużą minimalną szerokość */
#growthChart {
    width: 100% !important; /* Pozwól Chart.js zarządzać szerokością w 100% kontenera */
    min-width: 700px; /* NOWOŚĆ: Minimalna szerokość canvasa, aby scrollbar się pojawił */
    height: 100% !important; /* Wypełnij wysokość rodzica */
    /* max-height: 300px;  Usunięto, bo wysokość jest na kontenerze */
    border-radius: 15px;
    box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.3);
    /* Usunięto margin-bottom, bo teraz jest na chart-scroll-container */
}


.main-chart .chart-stats {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Zmieniamy na 4 kolumny jak na zdjęciu */
    gap: 20px;
    margin-top: 20px;
}

.main-chart .stat-item {
    background-color: #3f3f6d;
    padding: 18px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease, background-color 0.3s ease;
}

.main-chart .stat-item:hover {
    transform: translateY(-3px);
    background-color: #4f4f7d;
}

.main-chart .stat-label {
    font-size: 14px;
    color: #ccc;
}

.main-chart .stat-value {
    font-size: 20px; /* Większa czcionka */
    font-weight: bold;
    color: #a78bff;
}

/* Sekcja Growth Milestones (poprzednio Follow) */
.follow-section {
    grid-area: milestones-area; /* Przypisanie do obszaru gridowego */
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.follow-section h3 {
    margin-top: 0;
    color: #e0e0e0;
    font-size: 24px;
    border-bottom: 1px solid #3f3f6d;
    padding-bottom: 15px;
    margin-bottom: 15px;
}

.follow-section .crypto-follow-list { /* Zmieniono nazwę klasy na bardziej ogólną */
    display: flex;
    flex-direction: column;
    gap: 18px;
}

.follow-section .follow-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    background-color: #2b2b4d;
    border-radius: 15px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
    border: 1px solid transparent; /* Dodajemy dla efektu ramki */
}

.follow-section .follow-item:hover {
    transform: translateY(-5px);
    background-color: #313155;
    border-color: #a78bff; /* Podświetlenie ramki */
}


.follow-section .follow-crypto-info {
    display: flex;
    align-items: center;
    gap: 15px;
}

.follow-section .follow-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 18px;
    color: white;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

.follow-section .follow-details {
    display: flex;
    flex-direction: column;
}

.follow-section .follow-name {
    font-weight: bold;
    color: #e0e0e0;
    font-size: 17px;
}

.follow-section .follow-value {
    font-size: 15px;
    color: #ccc;
}

.follow-section .change {
    font-weight: bold;
    margin-left: 5px;
    display: inline-block; /* Aby transformacja działała */
    transition: transform 0.2s ease;
}

.follow-section .change:hover {
    transform: scale(1.1); /* Lekkie powiększenie tekstu zmiany */
}

.follow-section .change.positive { color: #28a745; }
.follow-section .change.negative { color: #dc3545; }
.follow-section .change.neutral { color: #ccc; }


/* Dolne Statystyki (pod głównym wykresem) */
.bottom-stats {
    grid-area: bottom-stats-area; /* Przypisanie do obszaru gridowego */
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-top: 20px;
}

.bottom-stats .stat-box {
    background-color: #2b2b4d;
    padding: 20px;
    border-radius: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
}

.bottom-stats .stat-box:hover {
    transform: translateY(-5px);
    background-color: #313155;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
}

.bottom-stats .stat-label {
    font-size: 15px;
    color: #ccc;
    margin-bottom: 8px;
}

.bottom-stats .stat-value {
    font-size: 26px; /* Większa czcionka */
    font-weight: bold;
    color: #a78bff;
    text-shadow: 0 0 5px rgba(167, 139, 255, 0.3);
}

/* Style dla kalkulatora USD to PLN */
.calculator-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 15px; /* Odstęp między elementami kalkulatora */
    padding: 25px; /* Zwiększony padding dla lepszego wyglądu */
}

.calculator-box .stat-label {
    font-size: 18px; /* Nieco większa czcionka dla etykiety kalkulatora */
    margin-bottom: 10px;
    color: #a78bff; /* Podświetlamy tytuł kalkulatora */
    font-weight: bold;
}

.calculator-box .converter-input-group,
.calculator-box .converter-result-group {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%; /* Rozciągnij na całą szerokość */
    max-width: 200px; /* Ogranicz szerokość dla estetyki */
    justify-content: center;
}

.calculator-box input[type="number"] {
    flex-grow: 1;
    padding: 10px 15px;
    border: 1px solid #3f3f6d;
    border-radius: 10px;
    background-color: #313155;
    color: #e0e0e0;
    font-size: 18px;
    text-align: center;
    outline: none;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.calculator-box input[type="number"]:focus {
    border-color: #a78bff;
    box-shadow: 0 0 8px rgba(167, 139, 255, 0.5);
}

.calculator-box .currency-label {
    font-size: 16px;
    font-weight: 600;
    color: #ccc;
}

.calculator-box .small-button {
    padding: 10px 20px;
    font-size: 15px;
    margin-top: 5px; /* Mniejszy margines górny dla przycisku */
    width: auto; /* Pozwól przyciskowi dopasować szerokość do zawartości */
}

.calculator-box .stat-value { /* Nadpisanie ogólnego stylu .stat-value dla wyniku */
    font-size: 28px; /* Większa czcionka dla wyniku PLN */
    color: #a78bff;
    font-weight: bold;
}

.calculator-box .exchange-rate-display {
    font-size: 13px;
    color: #888;
    margin-top: 5px;
}

/* STYLE DLA PEŁNEJ SZEROKOŚCI TEKSTU */
.full-width-text {
    padding: 30px;
    text-align: justify;
    line-height: 1.8;
    font-size: 15px;
    color: #c0c0c0;
    background-color: #2b2b4d;
    border-radius: 18px;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
    margin-top: 30px;
    margin-bottom: 20px;
    margin-left: 30px;
    margin-right: 30px;
    width: calc(100% - 30px);
    box-sizing: border-box;
}

.full-width-text p {
    margin-bottom: 1em;
    margin-top: 0;
}
/* KONIEC STYLÓW DLA PEŁNEJ SZEROKOŚCI TEKSTU */

/* Animacje wejścia (opcjonalne, do zastosowania z JS lub po załadowaniu strony) */
.card, .follow-item, .stat-box {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInSlideUp 0.5s ease-out forwards;
}

/* Opóźnienie animacji dla poszczególnych elementów, aby pojawiały się po kolei */
.portfolio-card { animation-delay: 0.1s; }
.main-chart { animation-delay: 0.2s; }
.follow-section { animation-delay: 0.3s; }
.full-width-text { animation-delay: 0.8s; }


@keyframes fadeInSlideUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}


/* Style dla Modalu Wpłaty */
.modal {
    display: none; /* Ukryte domyślnie, JS kontroluje wyświetlanie */
    position: fixed; /* Pozycja stała */
    z-index: 2000; /* Wysoko, aby było nad innymi elementami */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto; /* Włącz scrollowanie, jeśli treść jest za długa */
    background-color: rgba(0,0,0,0.7); /* Półprzezroczyste tło */
    display: flex; /* Użyj flexbox do centrowania */
    justify-content: center;
    align-items: center;
}

.modal-content {
    background-color: #2b2b4d;
    padding: 30px;
    border-radius: 20px;
    width: 90%;
    max-width: 500px;
    position: relative;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
    animation: fadeInScale 0.3s ease-out forwards; /* Animacja pojawienia się */
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.close-button {
    color: #aaa;
    position: absolute;
    top: 15px;
    right: 25px;
    font-size: 35px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s ease;
}

.close-button:hover,
.close-button:focus {
    color: #a78bff;
    text-decoration: none;
}

.modal-content h2 {
    color: #e0e0e0;
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 28px;
    text-align: center;
}

.modal-content p {
    color: #ccc;
    font-size: 16px;
    text-align: center;
    margin-bottom: 25px;
}

.modal-content .input-group {
    margin-bottom: 25px;
}

.modal-content label {
    display: block;
    margin-bottom: 10px;
    color: #a78bff;
    font-weight: 600;
    font-size: 18px;
}

.modal-content input[type="number"] {
    width: calc(100% - 20px);
    padding: 12px 10px;
    border: 1px solid #3f3f6d;
    border-radius: 10px;
    background-color: #313155;
    color: #e0e0e0;
    font-size: 18px;
    outline: none;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.modal-content input[type="number"]:focus {
    border-color: #a78bff;
    box-shadow: 0 0 10px rgba(167, 139, 255, 0.5);
}

.modal-content .action-button {
    width: 100%;
    padding: 15px;
    font-size: 18px;
    margin-top: 15px;
}

.error-message {
    color: #dc3545;
    font-size: 14px;
    margin-top: 10px;
    text-align: center;
    display: none; /* Ukryte domyślnie */
}

/* Style dla pustego stanu */
.empty-state {
    color: #888;
    text-align: center;
    padding: 20px;
    border: 1px dashed #3f3f6d;
    border-radius: 10px;
    margin-top: 20px;
    font-style: italic;
}


/* Dodatkowe animacje dla tekstu */
@keyframes slideInFromLeft {
    0% { transform: translateX(-100%); opacity: 0; }
    100% { transform: translateX(0); opacity: 1; }
}

@keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

.portfolio-card .portfolio-value .main-value,
.portfolio-card .total-balance .value,
.main-chart .stat-value,
.bottom-stats .stat-value {
    animation: fadeIn 0.8s ease-out forwards;
}

/* Media Queries dla responsywności */
@media (max-width: 1200px) {
    .dashboard-section {
        grid-template-columns: 1fr 2fr;
        grid-template-areas:
            "portfolio-area main-chart-area"
            "portfolio-area milestones-area"
            "bottom-stats-area bottom-stats-area";
    }

    .main-content {
        padding: 20px 20px;
    }

    .full-width-text {
        width: calc(100% - (20px * 2) - (30px * 2));
        margin-left: 30px;
        margin-right: 30px;
    }
}

@media (max-width: 900px) {
    .dashboard-section {
        grid-template-columns: 1fr;
        grid-template-areas:
            "portfolio-area"
            "main-chart-area"
            "milestones-area"
            "bottom-stats-area";
        gap: 25px;
    }

    .main-content {
        margin-left: 0;
        padding: 15px;
    }

    .bottom-stats {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }

    .portfolio-card h3, .follow-section h3 {
        font-size: 20px;
        padding-bottom: 10px;
        margin-bottom: 10px;
    }

    .portfolio-card .portfolio-value .main-value {
        font-size: 36px;
    }
    .portfolio-card .total-balance .value {
        font-size: 28px;
    }
    .calculator-box .converter-input-group,
    .calculator-box .converter-result-group {
        max-width: 100%;
    }

    .full-width-text {
        width: calc(100% - (15px * 2) - (30px * 2));
        margin-left: 30px;
        margin-right: 30px;
        padding: 20px;
    }
}

@media (max-width: 600px) {
    .portfolio-chart-controls {
        flex-wrap: wrap;
        gap: 8px;
    }

    .main-chart .chart-stats {
        grid-template-columns: 1fr;
    }

    .bottom-stats {
        grid-template-columns: 1fr;
    }

    .portfolio-action-buttons {
        flex-direction: column;
        gap: 10px;
    }

    .main-content {
        padding: 10px;
    }
    .full-width-text {
        width: calc(100% - (10px * 2) - (30px * 2));
        margin-left: 30px;
        margin-right: 30px;
        padding: 15px;
        font-size: 14px;
    }
}
